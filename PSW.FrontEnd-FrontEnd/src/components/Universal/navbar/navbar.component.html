<nav class="fixed w-full z-50 bg-indigo-950 text-slate-100">
  <div class="max-w-6xl mx-auto px-4">
    <div class="flex justify-between">
      <div class="flex space-x-4">
        <a
          [routerLink]="getRouteBasedOnRole()"
          class="py-3 font-semibold px-3 duration-300 text-indigo-200 hover:text-slate-100 animate-pulse animate-once"
          >PSW Tourist agency</a
        >
        <!-- primary nav -->
        <div class="hidden md:flex items-center space-x-1">
          <!-- <a
            *ngIf="user && user.username == ''"
            href="#"
            class="py-3 px-3 duration-300 hover:text-indigo-400"
            >About</a
          >
          <a
            *ngIf="user && user.username == ''"
            href="#"
            class="py-3 px-3 duration-300 hover:text-indigo-400"
            >Services</a
          >
          <a
            *ngIf="user && user.username == ''"
            href="#"
            class="py-3 px-3 duration-300 hover:text-indigo-400"
            >Contact</a
          > -->
          <!-- AUTHOR -->
          <a
            class="py-3 px-2 duration-300 hover:text-indigo-400"
            [routerLink]="['/create-tour']"
            *ngIf="user && user.role == 'author'"
            >Create tour</a
          >

          <!-- TOURIST -->

          <div *ngIf="user && user.role === 'tourist'" class="relative">
            <button
              class="custom-color px-3"
              (mouseenter)="openDropdown('event')"
              (mouseleave)="startChecking('event')"
            >
              Event
            </button>
            <div
              *ngIf="dropdowns['event']"
              class="absolute top-6 z-10 w-48 bg-black bg-opacity-70 shadow-lg rounded-md"
              (mouseenter)="stopChecking()"
              (mouseleave)="closeDropdown('event')"
              @dropdown
            >
              <a
                [routerLink]="['/recommended-tours']"
                class="block px-4 py-2 text-sm duration-300 hover:text-indigo-400"
                *ngIf="user && user.role == 'tourist'"
                >Recommended tours</a
              >
              <a
                [routerLink]="['/ask-recommended']"
                class="block px-4 py-2 text-sm duration-300 hover:text-indigo-400"
                *ngIf="user && user.role == 'tourist'"
                >Ask for recommendation</a
              >
            </div>
          </div>

          <a
            [routerLink]="['/bought-tours']"
            class="py-3 px-2 duration-300 hover:text-indigo-400"
            *ngIf="user && user.role == 'tourist'"
            >Bought tours</a
          >

          <a
            [routerLink]="['/change-interest']"
            class="py-3 px-2 duration-300 hover:text-indigo-400"
            *ngIf="user && user.role == 'tourist'"
            >Change interest</a
          >
        </div>
      </div>
      <!-- secondary nav -->
      <div class="hidden md:flex items-center space-x-1">
        <a
          *ngIf="user && user.username === ''"
          [routerLink]="['/login']"
          class="py-3 px-2 duration-300 hover:text-indigo-400"
          >Login</a
        >
        <a
          *ngIf="user && user.username === ''"
          [routerLink]="['/register']"
          class="py-3 px-2 duration-300 hover:text-indigo-400"
          >Sign Up</a
        >
        <a
          *ngIf="user && user.username !== ''"
          class="py-3 px-3 duration-300 hover:text-indigo-400"
        >
          <i class="fas fa-user mr-1"></i> {{ user.username }}
        </a>

        <a
          class="py-3 px-2 duration-300 hover:text-indigo-400"
          [routerLink]="['/shopping-cart']"
          *ngIf="user && user.role == 'tourist'"
          ><i class="fa-solid fa-cart-shopping"></i> Cart</a
        >

        <button
          *ngIf="user && user.username !== ''"
          (click)="logout()"
          class="py-3 px-3 duration-300 hover:text-indigo-400"
        >
          Logout
        </button>
      </div>
    </div>
  </div>
</nav>
